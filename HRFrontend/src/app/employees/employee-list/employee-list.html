<h2>Empleados</h2>
<button pButton label="Nuevo Empleado" [disabled]="!canCreate()"  (click)="create()"></button>
<p *ngIf="!canCreate()" class="p-error mt-2">
  No puedes crear un empleado sin al menos un departamento y un puesto registrados.
</p>

<p-table [value]="employees">
  <ng-template pTemplate="header">
    <tr>
      <th>Nombre</th>
      <th>Email</th>
      <th>Tel√©fono</th>
      <th>Departamento</th>
      <th>Puesto</th>
      <th>Acciones</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-emp>
    <tr>
      <td>{{ emp.name }} {{ emp.lastName }}</td>
      <td>{{ emp.email }}</td>
      <td>{{ emp.phone }}</td>
      <td>{{ emp.department?.name }}</td>
      <td>{{ emp.position?.title }}</td>
      <td>
        <button pButton (click)="edit(emp)" label="Editar"></button>
        <button pButton (click)="delete(emp.id)" label="Eliminar"></button>
      </td>
    </tr>
  </ng-template>
</p-table>